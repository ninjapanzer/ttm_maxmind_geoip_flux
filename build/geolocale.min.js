!function(e){function t(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){var o,n;o=[i(1),i(2),i(3),i(4),i(5)],n=function(e,t,i,o,n){var a,c;return i.register(function(e){switch(e.actionType){case"locale-commited":return c()}}),t(function(){return t.cookie.raw=!0,o.locate(),t(".geoswitch--reset").click(n.clearUserSelection)}),c=function(){var e;return e=n.readLocale(),e.userSelected?void 0:(t(".geoswitch--select").val(e.code+":"+e.name),t(".geoswitch--wrapper").toggleClass("is-shown"),t(".geoswitch--select").chosen(),t(".geoswitch--accept").on("click",a))},a=function(e,i){var o,a;return o=t(".geoswitch--select"),a=o.val().split(":"),n.commitUserSelection({code:a[0],name:a[1]}),window.location=window.location}}.apply(t,o),!(void 0!==n&&(e.exports=n))},function(e,t,i){e.exports=geoip2},function(e,t,i){e.exports=jQuery},function(e,t,i){var o,n;o=[i(6)],n=function(e){var t;return t=e.Dispatcher,t=new t}.apply(t,o),!(void 0!==n&&(e.exports=n))},function(e,t,i){var o,n;o=[i(1),i(2),i(3),i(5)],n=function(e,t,i,o){var n,a;return n=function(){return{data:{},stateName:"",stateCode:"",userSelected:null,cookiesSet:!1,locate:function(){var t;return t=o.readLocale(),t.code&&t.name?i.dispatch({actionType:"locale-commited",locale:t}):(console.log("Retrieving location"),e.city(this.save,this.error))},save:function(e){var t;return this.data=e,t=e.subdivisions[0],this.stateName=t.names.en,this.stateCode=t.iso_code,o.commitLocale({name:this.stateName,code:this.stateCode})},error:function(){return console.log("ERROR")}}},a=new n}.apply(t,o),!(void 0!==n&&(e.exports=n))},function(e,t,i){var o,n;o=[i(2),i(3)],n=function(e,t){var i;return e.cookie.raw=!0,i={commitLocale:function(i){return e.cookie("geoswitch_locale[code]",i.code,{expires:3e3,path:"/",domain:window.location.hostname}),e.cookie("geoswitch_locale[name]",i.name,{expires:3e3,path:"/",domain:window.location.hostname}),t.dispatch({actionType:"locale-commited",locale:i})},readLocale:function(){return{code:e.cookie("geoswitch_locale[code]"),name:e.cookie("geoswitch_locale[name]"),userSelected:e.cookie("geoswitch_locale[user_selected]")}},commitUserSelection:function(i){return e.cookie("geoswitch_locale[user_selected]",!0,{expires:3e3,path:"/",domain:window.location.hostname}),this.commitLocale(i),t.dispatch({actionType:"locale-commited",locale:i})},clearUserSelection:function(){return e.removeCookie("geoswitch_locale[code]",{path:"/",domain:window.location.hostname}),e.removeCookie("geoswitch_locale[name]",{path:"/",domain:window.location.hostname}),e.removeCookie("geoswitch_locale[user_selected]",{path:"/",domain:window.location.hostname})}}}.apply(t,o),!(void 0!==n&&(e.exports=n))},function(e,t,i){!function(i){if("object"==typeof t&&"undefined"!=typeof e)e.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof global?o=global:"undefined"!=typeof self&&(o=self),o.Flux=i()}}(function(){return function e(t,i,o){function n(c,r){if(!i[c]){if(!t[c]){var s="function"==typeof require&&require;if(!r&&s)return s(c,!0);if(a)return a(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var p=i[c]={exports:{}};t[c][0].call(p.exports,function(e){var i=t[c][1][e];return n(i?i:e)},p,p.exports,e,t,i,o)}return i[c].exports}for(var a="function"==typeof require&&require,c=0;c<o.length;c++)n(o[c]);return n}({1:[function(e,t,i){t.exports.Dispatcher=e("./lib/Dispatcher")},{"./lib/Dispatcher":2}],2:[function(e,t,i){"use strict";function o(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var n=e("./invariant"),a=1,c="ID_";o.prototype.register=function(e){var t=c+a++;return this.$Dispatcher_callbacks[t]=e,t},o.prototype.unregister=function(e){n(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},o.prototype.waitFor=function(e){n(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var i=e[t];this.$Dispatcher_isPending[i]?n(this.$Dispatcher_isHandled[i],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",i):(n(this.$Dispatcher_callbacks[i],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",i),this.$Dispatcher_invokeCallback(i))}},o.prototype.dispatch=function(e){n(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},o.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},o.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},o.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},o.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},t.exports=o},{"./invariant":3}],3:[function(e,t,i){"use strict";var o=function(e,t,i,o,n,a,c,r){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[i,o,n,a,c,r],p=0;s=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return l[p++]}))}throw s.framesToPop=1,s}};t.exports=o},{}]},{},[1])(1)})}]);
//# sourceMappingURL=geolocale.min.js.map