{"version":3,"sources":["webpack:///geolocale.min.js","webpack:///webpack/bootstrap c7d6f3e2371b89655abe","webpack:///./src/app.coffee","webpack:///external \"geoip2\"","webpack:///external \"jQuery\"","webpack:///./src/dispatcher.coffee","webpack:///./src/store.coffee","webpack:///./src/cookiejar.coffee","webpack:///./bower_components/flux/dist/Flux.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","geoip2","jQuery","dispatcher","store","cookieJar","accept_locale","verify_locale","register","payload","actionType","cookie","raw","locate","click","clearUserSelection","locale","readLocale","userSelected","val","code","name","toggleClass","chosen","on","cookie_path","cookie_domain","$select","codeAndName","split","commitUserSelection","window","location","apply","undefined","flux","Dispatcher","Location","Store","data","stateName","stateCode","cookiesSet","dispatch","console","log","city","this","save","error","subdivision","subdivisions","names","en","iso_code","commitLocale","CookieJar","expires","path","domain","hostname","removeCookie","e","define","amd","f","global","self","Flux","t","n","r","s","o","u","a","require","i","Error","l","length",1,"./lib/Dispatcher",2,"$Dispatcher_callbacks","$Dispatcher_isPending","$Dispatcher_isHandled","$Dispatcher_isDispatching","$Dispatcher_pendingPayload","invariant","_lastID","_prefix","prototype","callback","unregister","waitFor","ids","ii","$Dispatcher_invokeCallback","$Dispatcher_startDispatching","$Dispatcher_stopDispatching","isDispatching","./invariant",3,"condition","format","b","d","args","argIndex","replace","framesToPop"],"mappings":"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","file":"geolocale.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1), __webpack_require__(2), __webpack_require__(3), __webpack_require__(4), __webpack_require__(5)], __WEBPACK_AMD_DEFINE_RESULT__ = function(geoip2, jQuery, dispatcher, store, cookieJar) {\n\t  var accept_locale, verify_locale;\n\t  dispatcher.register(function(payload) {\n\t    switch (payload.actionType) {\n\t      case \"locale-commited\":\n\t        return verify_locale();\n\t    }\n\t  });\n\t  jQuery(function() {\n\t    jQuery.cookie.raw = true;\n\t    store.locate();\n\t    return jQuery('.geoswitch--reset').click(cookieJar.clearUserSelection);\n\t  });\n\t  verify_locale = function() {\n\t    var locale;\n\t    locale = cookieJar.readLocale();\n\t    if (!locale.userSelected) {\n\t      jQuery('.geoswitch--select').val(locale.code + \":\" + locale.name);\n\t      jQuery('.geoswitch--wrapper').toggleClass('is-shown');\n\t      jQuery('.geoswitch--select').chosen();\n\t      return jQuery('.geoswitch--accept').on('click', accept_locale);\n\t    }\n\t  };\n\t  return accept_locale = function(cookie_path, cookie_domain) {\n\t    var $select, codeAndName;\n\t    $select = jQuery('.geoswitch--select');\n\t    codeAndName = $select.val().split(':');\n\t    cookieJar.commitUserSelection({\n\t      code: codeAndName[0],\n\t      name: codeAndName[1]\n\t    });\n\t    return window.location = window.location;\n\t  };\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = geoip2;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = function(flux) {\n\t  var Dispatcher;\n\t  Dispatcher = flux.Dispatcher;\n\t  Dispatcher = new Dispatcher();\n\t  return Dispatcher;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1), __webpack_require__(2), __webpack_require__(3), __webpack_require__(5)], __WEBPACK_AMD_DEFINE_RESULT__ = function(geoip2, jQuery, dispatcher, cookieJar) {\n\t  var Location, Store;\n\t  Location = function() {\n\t    return {\n\t      data: {},\n\t      stateName: '',\n\t      stateCode: '',\n\t      userSelected: null,\n\t      cookiesSet: false,\n\t      locate: function() {\n\t        var locale;\n\t        locale = cookieJar.readLocale();\n\t        if (locale.code && locale.name) {\n\t          return dispatcher.dispatch({\n\t            actionType: \"locale-commited\",\n\t            locale: locale\n\t          });\n\t        } else {\n\t          console.log('Retrieving location');\n\t          return geoip2.city(this.save, this.error);\n\t        }\n\t      },\n\t      save: function(location) {\n\t        var subdivision;\n\t        this.data = location;\n\t        subdivision = location.subdivisions[0];\n\t        this.stateName = subdivision.names.en;\n\t        this.stateCode = subdivision.iso_code;\n\t        return cookieJar.commitLocale({\n\t          name: this.stateName,\n\t          code: this.stateCode\n\t        });\n\t      },\n\t      error: function() {\n\t        return console.log(\"ERROR\");\n\t      }\n\t    };\n\t  };\n\t  Store = new Location();\n\t  return Store;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function(jQuery, dispatcher) {\n\t  var CookieJar;\n\t  jQuery.cookie.raw = true;\n\t  CookieJar = {\n\t    commitLocale: function(locale) {\n\t      jQuery.cookie('geoswitch_locale[code]', locale.code, {\n\t        expires: 3000,\n\t        path: \"/\",\n\t        domain: \".\" + window.location.hostname\n\t      });\n\t      jQuery.cookie('geoswitch_locale[name]', locale.name, {\n\t        expires: 3000,\n\t        path: \"/\",\n\t        domain: \".\" + window.location.hostname\n\t      });\n\t      return dispatcher.dispatch({\n\t        actionType: \"locale-commited\",\n\t        locale: locale\n\t      });\n\t    },\n\t    readLocale: function() {\n\t      return {\n\t        code: jQuery.cookie('geoswitch_locale[code]'),\n\t        name: jQuery.cookie('geoswitch_locale[name]'),\n\t        userSelected: jQuery.cookie('geoswitch_locale[user_selected]')\n\t      };\n\t    },\n\t    commitUserSelection: function(locale) {\n\t      jQuery.cookie('geoswitch_locale[user_selected]', true, {\n\t        expires: 3000,\n\t        path: \"/\",\n\t        domain: \".\" + window.location.hostname\n\t      });\n\t      this.commitLocale(locale);\n\t      return dispatcher.dispatch({\n\t        actionType: \"locale-commited\",\n\t        locale: locale\n\t      });\n\t    },\n\t    clearUserSelection: function() {\n\t      jQuery.removeCookie('geoswitch_locale[code]', {\n\t        domain: \".\" + window.location.hostname\n\t      });\n\t      jQuery.removeCookie('geoswitch_locale[name]', {\n\t        domain: \".\" + window.location.hostname\n\t      });\n\t      return jQuery.removeCookie('geoswitch_locale[user_selected]', {\n\t        domain: \".\" + window.location.hostname\n\t      });\n\t    }\n\t  };\n\t  return CookieJar;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Flux=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\t/**\n\t * Copyright (c) 2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t */\n\n\tmodule.exports.Dispatcher = require('./lib/Dispatcher')\n\n\t},{\"./lib/Dispatcher\":2}],2:[function(require,module,exports){\n\t/*\n\t * Copyright (c) 2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule Dispatcher\n\t * @typechecks\n\t */\n\n\t\"use strict\";\n\n\tvar invariant = require('./invariant');\n\n\tvar _lastID = 1;\n\tvar _prefix = 'ID_';\n\n\t/**\n\t * Dispatcher is used to broadcast payloads to registered callbacks. This is\n\t * different from generic pub-sub systems in two ways:\n\t *\n\t *   1) Callbacks are not subscribed to particular events. Every payload is\n\t *      dispatched to every registered callback.\n\t *   2) Callbacks can be deferred in whole or part until other callbacks have\n\t *      been executed.\n\t *\n\t * For example, consider this hypothetical flight destination form, which\n\t * selects a default city when a country is selected:\n\t *\n\t *   var flightDispatcher = new Dispatcher();\n\t *\n\t *   // Keeps track of which country is selected\n\t *   var CountryStore = {country: null};\n\t *\n\t *   // Keeps track of which city is selected\n\t *   var CityStore = {city: null};\n\t *\n\t *   // Keeps track of the base flight price of the selected city\n\t *   var FlightPriceStore = {price: null}\n\t *\n\t * When a user changes the selected city, we dispatch the payload:\n\t *\n\t *   flightDispatcher.dispatch({\n\t *     actionType: 'city-update',\n\t *     selectedCity: 'paris'\n\t *   });\n\t *\n\t * This payload is digested by `CityStore`:\n\t *\n\t *   flightDispatcher.register(function(payload) {\n\t *     if (payload.actionType === 'city-update') {\n\t *       CityStore.city = payload.selectedCity;\n\t *     }\n\t *   });\n\t *\n\t * When the user selects a country, we dispatch the payload:\n\t *\n\t *   flightDispatcher.dispatch({\n\t *     actionType: 'country-update',\n\t *     selectedCountry: 'australia'\n\t *   });\n\t *\n\t * This payload is digested by both stores:\n\t *\n\t *    CountryStore.dispatchToken = flightDispatcher.register(function(payload) {\n\t *     if (payload.actionType === 'country-update') {\n\t *       CountryStore.country = payload.selectedCountry;\n\t *     }\n\t *   });\n\t *\n\t * When the callback to update `CountryStore` is registered, we save a reference\n\t * to the returned token. Using this token with `waitFor()`, we can guarantee\n\t * that `CountryStore` is updated before the callback that updates `CityStore`\n\t * needs to query its data.\n\t *\n\t *   CityStore.dispatchToken = flightDispatcher.register(function(payload) {\n\t *     if (payload.actionType === 'country-update') {\n\t *       // `CountryStore.country` may not be updated.\n\t *       flightDispatcher.waitFor([CountryStore.dispatchToken]);\n\t *       // `CountryStore.country` is now guaranteed to be updated.\n\t *\n\t *       // Select the default city for the new country\n\t *       CityStore.city = getDefaultCityForCountry(CountryStore.country);\n\t *     }\n\t *   });\n\t *\n\t * The usage of `waitFor()` can be chained, for example:\n\t *\n\t *   FlightPriceStore.dispatchToken =\n\t *     flightDispatcher.register(function(payload) {\n\t *       switch (payload.actionType) {\n\t *         case 'country-update':\n\t *           flightDispatcher.waitFor([CityStore.dispatchToken]);\n\t *           FlightPriceStore.price =\n\t *             getFlightPriceStore(CountryStore.country, CityStore.city);\n\t *           break;\n\t *\n\t *         case 'city-update':\n\t *           FlightPriceStore.price =\n\t *             FlightPriceStore(CountryStore.country, CityStore.city);\n\t *           break;\n\t *     }\n\t *   });\n\t *\n\t * The `country-update` payload will be guaranteed to invoke the stores'\n\t * registered callbacks in order: `CountryStore`, `CityStore`, then\n\t * `FlightPriceStore`.\n\t */\n\n\t  function Dispatcher() {\n\t    this.$Dispatcher_callbacks = {};\n\t    this.$Dispatcher_isPending = {};\n\t    this.$Dispatcher_isHandled = {};\n\t    this.$Dispatcher_isDispatching = false;\n\t    this.$Dispatcher_pendingPayload = null;\n\t  }\n\n\t  /**\n\t   * Registers a callback to be invoked with every dispatched payload. Returns\n\t   * a token that can be used with `waitFor()`.\n\t   *\n\t   * @param {function} callback\n\t   * @return {string}\n\t   */\n\t  Dispatcher.prototype.register=function(callback) {\n\t    var id = _prefix + _lastID++;\n\t    this.$Dispatcher_callbacks[id] = callback;\n\t    return id;\n\t  };\n\n\t  /**\n\t   * Removes a callback based on its token.\n\t   *\n\t   * @param {string} id\n\t   */\n\t  Dispatcher.prototype.unregister=function(id) {\n\t    invariant(\n\t      this.$Dispatcher_callbacks[id],\n\t      'Dispatcher.unregister(...): `%s` does not map to a registered callback.',\n\t      id\n\t    );\n\t    delete this.$Dispatcher_callbacks[id];\n\t  };\n\n\t  /**\n\t   * Waits for the callbacks specified to be invoked before continuing execution\n\t   * of the current callback. This method should only be used by a callback in\n\t   * response to a dispatched payload.\n\t   *\n\t   * @param {array<string>} ids\n\t   */\n\t  Dispatcher.prototype.waitFor=function(ids) {\n\t    invariant(\n\t      this.$Dispatcher_isDispatching,\n\t      'Dispatcher.waitFor(...): Must be invoked while dispatching.'\n\t    );\n\t    for (var ii = 0; ii < ids.length; ii++) {\n\t      var id = ids[ii];\n\t      if (this.$Dispatcher_isPending[id]) {\n\t        invariant(\n\t          this.$Dispatcher_isHandled[id],\n\t          'Dispatcher.waitFor(...): Circular dependency detected while ' +\n\t          'waiting for `%s`.',\n\t          id\n\t        );\n\t        continue;\n\t      }\n\t      invariant(\n\t        this.$Dispatcher_callbacks[id],\n\t        'Dispatcher.waitFor(...): `%s` does not map to a registered callback.',\n\t        id\n\t      );\n\t      this.$Dispatcher_invokeCallback(id);\n\t    }\n\t  };\n\n\t  /**\n\t   * Dispatches a payload to all registered callbacks.\n\t   *\n\t   * @param {object} payload\n\t   */\n\t  Dispatcher.prototype.dispatch=function(payload) {\n\t    invariant(\n\t      !this.$Dispatcher_isDispatching,\n\t      'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.'\n\t    );\n\t    this.$Dispatcher_startDispatching(payload);\n\t    try {\n\t      for (var id in this.$Dispatcher_callbacks) {\n\t        if (this.$Dispatcher_isPending[id]) {\n\t          continue;\n\t        }\n\t        this.$Dispatcher_invokeCallback(id);\n\t      }\n\t    } finally {\n\t      this.$Dispatcher_stopDispatching();\n\t    }\n\t  };\n\n\t  /**\n\t   * Is this Dispatcher currently dispatching.\n\t   *\n\t   * @return {boolean}\n\t   */\n\t  Dispatcher.prototype.isDispatching=function() {\n\t    return this.$Dispatcher_isDispatching;\n\t  };\n\n\t  /**\n\t   * Call the callback stored with the given id. Also do some internal\n\t   * bookkeeping.\n\t   *\n\t   * @param {string} id\n\t   * @internal\n\t   */\n\t  Dispatcher.prototype.$Dispatcher_invokeCallback=function(id) {\n\t    this.$Dispatcher_isPending[id] = true;\n\t    this.$Dispatcher_callbacks[id](this.$Dispatcher_pendingPayload);\n\t    this.$Dispatcher_isHandled[id] = true;\n\t  };\n\n\t  /**\n\t   * Set up bookkeeping needed when dispatching.\n\t   *\n\t   * @param {object} payload\n\t   * @internal\n\t   */\n\t  Dispatcher.prototype.$Dispatcher_startDispatching=function(payload) {\n\t    for (var id in this.$Dispatcher_callbacks) {\n\t      this.$Dispatcher_isPending[id] = false;\n\t      this.$Dispatcher_isHandled[id] = false;\n\t    }\n\t    this.$Dispatcher_pendingPayload = payload;\n\t    this.$Dispatcher_isDispatching = true;\n\t  };\n\n\t  /**\n\t   * Clear bookkeeping used for dispatching.\n\t   *\n\t   * @internal\n\t   */\n\t  Dispatcher.prototype.$Dispatcher_stopDispatching=function() {\n\t    this.$Dispatcher_pendingPayload = null;\n\t    this.$Dispatcher_isDispatching = false;\n\t  };\n\n\n\tmodule.exports = Dispatcher;\n\n\t},{\"./invariant\":3}],3:[function(require,module,exports){\n\t/**\n\t * Copyright (c) 2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule invariant\n\t */\n\n\t\"use strict\";\n\n\t/**\n\t * Use invariant() to assert state which your program assumes to be true.\n\t *\n\t * Provide sprintf-style format (only %s is supported) and arguments\n\t * to provide information about what broke and what you were\n\t * expecting.\n\t *\n\t * The invariant message will be stripped in production, but the invariant\n\t * will remain to ensure logic does not differ in production.\n\t */\n\n\tvar invariant = function(condition, format, a, b, c, d, e, f) {\n\t  if (false) {\n\t    if (format === undefined) {\n\t      throw new Error('invariant requires an error message argument');\n\t    }\n\t  }\n\n\t  if (!condition) {\n\t    var error;\n\t    if (format === undefined) {\n\t      error = new Error(\n\t        'Minified exception occurred; use the non-minified dev environment ' +\n\t        'for the full error message and additional helpful warnings.'\n\t      );\n\t    } else {\n\t      var args = [a, b, c, d, e, f];\n\t      var argIndex = 0;\n\t      error = new Error(\n\t        'Invariant Violation: ' +\n\t        format.replace(/%s/g, function() { return args[argIndex++]; })\n\t      );\n\t    }\n\n\t    error.framesToPop = 1; // we don't care about invariant's own frame\n\t    throw error;\n\t  }\n\t};\n\n\tmodule.exports = invariant;\n\n\t},{}]},{},[1])(1)\n\t});\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** geolocale.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c7d6f3e2371b89655abe\n **/","define [\n  'geoip2'\n  'jQuery'\n  './dispatcher'\n  './store'\n  './cookiejar'\n],\n(\n  geoip2\n  jQuery\n  dispatcher\n  store\n  cookieJar\n)->\n  dispatcher.register (payload)->\n    switch payload.actionType\n      when \"locale-commited\"\n        verify_locale()\n\n  jQuery ->\n    jQuery.cookie.raw = true\n    store.locate()\n    jQuery('.geoswitch--reset').click cookieJar.clearUserSelection\n\n  verify_locale = ->\n    locale = cookieJar.readLocale()\n    unless locale.userSelected\n      jQuery('.geoswitch--select').val(locale.code + \":\" + locale.name)\n      jQuery('.geoswitch--wrapper').toggleClass('is-shown')\n      jQuery('.geoswitch--select').chosen()\n      jQuery('.geoswitch--accept').on('click', accept_locale)\n\n  accept_locale = (cookie_path, cookie_domain)->\n    $select = jQuery('.geoswitch--select');\n    codeAndName = $select.val().split(':');\n    cookieJar.commitUserSelection\n      code: codeAndName[0]\n      name: codeAndName[1]\n    window.location = window.location;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.coffee\n **/","module.exports = geoip2;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"geoip2\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 2\n ** module chunks = 0\n **/","define 'dispatcher', ['flux'], (flux) ->\n  Dispatcher = flux.Dispatcher\n  Dispatcher = new Dispatcher()\n  Dispatcher\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dispatcher.coffee\n **/","define 'store', [\n  'geoip2'\n  'jQuery'\n  './dispatcher'\n  './cookiejar'\n],\n(\n  geoip2\n  jQuery\n  dispatcher\n  cookieJar\n)->\n  Location = -> {\n    data: {}\n    stateName: ''\n    stateCode: ''\n    userSelected: null\n    cookiesSet: false\n\n    locate: ->\n      locale = cookieJar.readLocale()\n      if locale.code && locale.name\n        dispatcher.dispatch\n          actionType: \"locale-commited\"\n          locale: locale\n      else\n        console.log('Retrieving location')\n        geoip2.city(@save, @error)\n\n    save: (location)->\n      @data = location\n      subdivision = location.subdivisions[0]\n      @stateName  = subdivision.names.en\n      @stateCode  = subdivision.iso_code\n      cookieJar.commitLocale\n        name: @stateName\n        code: @stateCode\n\n    error: ->\n      console.log \"ERROR\"\n  }\n\n  Store = new Location()\n  Store\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/store.coffee\n **/","define 'cookiejar',\n[\n  'jQuery'\n  './dispatcher'\n],\n(\n  jQuery\n  dispatcher\n)->\n  jQuery.cookie.raw = true;\n  CookieJar =\n    commitLocale: (locale)->\n      jQuery.cookie 'geoswitch_locale[code]', locale.code, { expires: 3000, path: \"/\", domain: \".#{window.location.hostname}\" }\n      jQuery.cookie 'geoswitch_locale[name]', locale.name, { expires: 3000, path: \"/\", domain: \".#{window.location.hostname}\" }\n      dispatcher.dispatch\n        actionType: \"locale-commited\"\n        locale: locale\n    readLocale: ->\n      code:         jQuery.cookie 'geoswitch_locale[code]'\n      name:         jQuery.cookie 'geoswitch_locale[name]'\n      userSelected: jQuery.cookie 'geoswitch_locale[user_selected]'\n    commitUserSelection: (locale)->\n      jQuery.cookie 'geoswitch_locale[user_selected]', true, { expires: 3000, path: \"/\", domain: \".#{window.location.hostname}\" }\n      @commitLocale(locale)\n      dispatcher.dispatch\n        actionType: \"locale-commited\"\n        locale: locale\n    clearUserSelection: ->\n      jQuery.removeCookie 'geoswitch_locale[code]', { domain: \".#{window.location.hostname}\"}\n      jQuery.removeCookie 'geoswitch_locale[name]', { domain: \".#{window.location.hostname}\"}\n      jQuery.removeCookie 'geoswitch_locale[user_selected]', { domain: \".#{window.location.hostname}\"}\n\n  CookieJar\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/cookiejar.coffee\n **/","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Flux=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nmodule.exports.Dispatcher = require('./lib/Dispatcher')\n\n},{\"./lib/Dispatcher\":2}],2:[function(require,module,exports){\n/*\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Dispatcher\n * @typechecks\n */\n\n\"use strict\";\n\nvar invariant = require('./invariant');\n\nvar _lastID = 1;\nvar _prefix = 'ID_';\n\n/**\n * Dispatcher is used to broadcast payloads to registered callbacks. This is\n * different from generic pub-sub systems in two ways:\n *\n *   1) Callbacks are not subscribed to particular events. Every payload is\n *      dispatched to every registered callback.\n *   2) Callbacks can be deferred in whole or part until other callbacks have\n *      been executed.\n *\n * For example, consider this hypothetical flight destination form, which\n * selects a default city when a country is selected:\n *\n *   var flightDispatcher = new Dispatcher();\n *\n *   // Keeps track of which country is selected\n *   var CountryStore = {country: null};\n *\n *   // Keeps track of which city is selected\n *   var CityStore = {city: null};\n *\n *   // Keeps track of the base flight price of the selected city\n *   var FlightPriceStore = {price: null}\n *\n * When a user changes the selected city, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'city-update',\n *     selectedCity: 'paris'\n *   });\n *\n * This payload is digested by `CityStore`:\n *\n *   flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'city-update') {\n *       CityStore.city = payload.selectedCity;\n *     }\n *   });\n *\n * When the user selects a country, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'country-update',\n *     selectedCountry: 'australia'\n *   });\n *\n * This payload is digested by both stores:\n *\n *    CountryStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       CountryStore.country = payload.selectedCountry;\n *     }\n *   });\n *\n * When the callback to update `CountryStore` is registered, we save a reference\n * to the returned token. Using this token with `waitFor()`, we can guarantee\n * that `CountryStore` is updated before the callback that updates `CityStore`\n * needs to query its data.\n *\n *   CityStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       // `CountryStore.country` may not be updated.\n *       flightDispatcher.waitFor([CountryStore.dispatchToken]);\n *       // `CountryStore.country` is now guaranteed to be updated.\n *\n *       // Select the default city for the new country\n *       CityStore.city = getDefaultCityForCountry(CountryStore.country);\n *     }\n *   });\n *\n * The usage of `waitFor()` can be chained, for example:\n *\n *   FlightPriceStore.dispatchToken =\n *     flightDispatcher.register(function(payload) {\n *       switch (payload.actionType) {\n *         case 'country-update':\n *           flightDispatcher.waitFor([CityStore.dispatchToken]);\n *           FlightPriceStore.price =\n *             getFlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *\n *         case 'city-update':\n *           FlightPriceStore.price =\n *             FlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *     }\n *   });\n *\n * The `country-update` payload will be guaranteed to invoke the stores'\n * registered callbacks in order: `CountryStore`, `CityStore`, then\n * `FlightPriceStore`.\n */\n\n  function Dispatcher() {\n    this.$Dispatcher_callbacks = {};\n    this.$Dispatcher_isPending = {};\n    this.$Dispatcher_isHandled = {};\n    this.$Dispatcher_isDispatching = false;\n    this.$Dispatcher_pendingPayload = null;\n  }\n\n  /**\n   * Registers a callback to be invoked with every dispatched payload. Returns\n   * a token that can be used with `waitFor()`.\n   *\n   * @param {function} callback\n   * @return {string}\n   */\n  Dispatcher.prototype.register=function(callback) {\n    var id = _prefix + _lastID++;\n    this.$Dispatcher_callbacks[id] = callback;\n    return id;\n  };\n\n  /**\n   * Removes a callback based on its token.\n   *\n   * @param {string} id\n   */\n  Dispatcher.prototype.unregister=function(id) {\n    invariant(\n      this.$Dispatcher_callbacks[id],\n      'Dispatcher.unregister(...): `%s` does not map to a registered callback.',\n      id\n    );\n    delete this.$Dispatcher_callbacks[id];\n  };\n\n  /**\n   * Waits for the callbacks specified to be invoked before continuing execution\n   * of the current callback. This method should only be used by a callback in\n   * response to a dispatched payload.\n   *\n   * @param {array<string>} ids\n   */\n  Dispatcher.prototype.waitFor=function(ids) {\n    invariant(\n      this.$Dispatcher_isDispatching,\n      'Dispatcher.waitFor(...): Must be invoked while dispatching.'\n    );\n    for (var ii = 0; ii < ids.length; ii++) {\n      var id = ids[ii];\n      if (this.$Dispatcher_isPending[id]) {\n        invariant(\n          this.$Dispatcher_isHandled[id],\n          'Dispatcher.waitFor(...): Circular dependency detected while ' +\n          'waiting for `%s`.',\n          id\n        );\n        continue;\n      }\n      invariant(\n        this.$Dispatcher_callbacks[id],\n        'Dispatcher.waitFor(...): `%s` does not map to a registered callback.',\n        id\n      );\n      this.$Dispatcher_invokeCallback(id);\n    }\n  };\n\n  /**\n   * Dispatches a payload to all registered callbacks.\n   *\n   * @param {object} payload\n   */\n  Dispatcher.prototype.dispatch=function(payload) {\n    invariant(\n      !this.$Dispatcher_isDispatching,\n      'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.'\n    );\n    this.$Dispatcher_startDispatching(payload);\n    try {\n      for (var id in this.$Dispatcher_callbacks) {\n        if (this.$Dispatcher_isPending[id]) {\n          continue;\n        }\n        this.$Dispatcher_invokeCallback(id);\n      }\n    } finally {\n      this.$Dispatcher_stopDispatching();\n    }\n  };\n\n  /**\n   * Is this Dispatcher currently dispatching.\n   *\n   * @return {boolean}\n   */\n  Dispatcher.prototype.isDispatching=function() {\n    return this.$Dispatcher_isDispatching;\n  };\n\n  /**\n   * Call the callback stored with the given id. Also do some internal\n   * bookkeeping.\n   *\n   * @param {string} id\n   * @internal\n   */\n  Dispatcher.prototype.$Dispatcher_invokeCallback=function(id) {\n    this.$Dispatcher_isPending[id] = true;\n    this.$Dispatcher_callbacks[id](this.$Dispatcher_pendingPayload);\n    this.$Dispatcher_isHandled[id] = true;\n  };\n\n  /**\n   * Set up bookkeeping needed when dispatching.\n   *\n   * @param {object} payload\n   * @internal\n   */\n  Dispatcher.prototype.$Dispatcher_startDispatching=function(payload) {\n    for (var id in this.$Dispatcher_callbacks) {\n      this.$Dispatcher_isPending[id] = false;\n      this.$Dispatcher_isHandled[id] = false;\n    }\n    this.$Dispatcher_pendingPayload = payload;\n    this.$Dispatcher_isDispatching = true;\n  };\n\n  /**\n   * Clear bookkeeping used for dispatching.\n   *\n   * @internal\n   */\n  Dispatcher.prototype.$Dispatcher_stopDispatching=function() {\n    this.$Dispatcher_pendingPayload = null;\n    this.$Dispatcher_isDispatching = false;\n  };\n\n\nmodule.exports = Dispatcher;\n\n},{\"./invariant\":3}],3:[function(require,module,exports){\n/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n\"use strict\";\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (false) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        'Invariant Violation: ' +\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n},{}]},{},[1])(1)\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/flux/dist/Flux.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}